# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –∏ –º–æ–¥–µ–ª–µ–π - –ì–û–¢–û–í–û

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### üîß –ë—ç–∫–µ–Ω–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–°–æ–∑–¥–∞–Ω UnifiedInsightsService**
   - –§–∞–π–ª: `backend/app/services/unified_insights_service.py`
   - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å—é LLM –ª–æ–≥–∏–∫—É –≤ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Ollama –∏ OpenAI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
   - –†–µ–∞–ª–∏–∑—É–µ—Ç fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö LLM

2. **–ù–æ–≤—ã–π –ø—Ä–æ—Å—Ç–æ–π —Ä–æ—É—Ç–µ—Ä**
   - –§–∞–π–ª: `backend/app/routers/ai_insights_fixed.py`
   - Endpoint: `POST /ai/insights/fixed`
   - –ü—Ä–æ—Å—Ç—ã–µ –º–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞
   - –ë–µ–∑ –ø–µ—Ä–µ—Å–ª–æ–∂–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

3. **–û–±–Ω–æ–≤–ª–µ–Ω main.py**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω –Ω–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä
   - –î–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–æ—É—Ç–∏–Ω–≥ FastAPI

### üé® –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ü—Ä–æ—Å—Ç–æ–π API –∫–ª–∏–µ–Ω—Ç**
   - –§–∞–π–ª: `frontend/src/lib/api-insights-simple.ts`
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `simpleInsightsAPI.getInsights(userId, params)`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**
   - –§–∞–π–ª: `frontend/src/pages/InsightsSimple.tsx`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (LLM –≤—Ä–µ–º—è, –æ–±—â–µ–µ –≤—Ä–µ–º—è)
   - Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

3. **–û–±–Ω–æ–≤–ª–µ–Ω App.tsx**
   - –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç `/insights-simple`

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
```bash
cd backend
python -m uvicorn app.main:app --reload --port 8000
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoint
```bash
curl -X POST "http://localhost:8000/ai/insights/fixed?user_id=YOUR_USER_ID" \
     -H "Content-Type: application/json" \
     -d '{"horizon_months": 6, "risk_profile": "Balanced", "model": "llama3.1:8b"}'
```

### 3. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:
```
http://localhost:5173/insights-simple
```

## –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

‚úÖ **–ï–¥–∏–Ω—ã–π API endpoint** - –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤–º–µ—Å—Ç–æ 4  
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—ç—à** - —Å—Ç–∞—Ç—É—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ –∫–∞–∂–¥–æ–º –æ—Ç–≤–µ—Ç–µ  
‚úÖ **Fallback –ª–æ–≥–∏–∫–∞** - –∞–Ω–∞–ª–∏–∑ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö LLM  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - –ª–µ–≥–∫–æ –ø–æ–Ω–∏–º–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å  
‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - LLM –≤—Ä–µ–º—è, –æ–±—â–µ–µ –≤—Ä–µ–º—è, —Å—Ç–∞—Ç—É—Å –∫—ç—à–∞  

## –§–∞–π–ª—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –ø–∞–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç–∞

- `backend/app/services/unified_insights_service.py` (–Ω–æ–≤—ã–π)
- `backend/app/routers/ai_insights_fixed.py` (–Ω–æ–≤—ã–π)
- `backend/app/main.py` (–æ–±–Ω–æ–≤–ª–µ–Ω)
- `frontend/src/lib/api-insights-simple.ts` (–Ω–æ–≤—ã–π)
- `frontend/src/pages/InsightsSimple.tsx` (–Ω–æ–≤—ã–π)
- `frontend/src/App.tsx` (–æ–±–Ω–æ–≤–ª–µ–Ω)

## –ú–∏–≥—Ä–∞—Ü–∏—è

–°—Ç–∞—Ä—ã–µ endpoints –æ—Å—Ç–∞—é—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å:
- `/ai/insights-swr` - SWR API
- `/ai/insights` - unified API  
- `/insights/optimized` - optimized API
- `/insights/v2` - legacy v2 API

–ù–æ–≤—ã–π endpoint - —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –Ω–µ –∑–∞–º–µ–Ω–∞. –ú–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å.

## –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

üéØ **–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–µ–º –∏ –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏ –∫ –º–æ–¥–µ–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Insights.

üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —á–µ—Ç–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏.





